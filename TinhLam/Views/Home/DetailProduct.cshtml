@model TinhLam.Data.Product

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="detailProduct">
    <div class="product-detail">
        <!-- Product Image Section -->
        <div class="product-image">
            <img src="~/images/@Model.Image" alt="@Model.ProductName" class="product-img">
        </div>

        <!-- Product Info Section -->
        <div class="product-info">
            <h1 class="product-title">@Model.ProductName</h1>
            <p class="product-meta">Mã sản phẩm: <span class="meta-value">@Model.ProductId</span></p>
            <p class="product-meta">Trạng thái: <span class="meta-value @(Model.StockQuantity > 0 ? "in-stock" : "out-of-stock")">@(Model.StockQuantity > 0 ? "Còn hàng" : "Hết hàng")</span></p>
            <p class="product-description">@Model.Description</p>
            <p class="product-price">@(string.Format("{0:N0} VND", Model.Price))</p>
            <form asp-action="AddToCart" asp-controller="Cart" asp-route-id="@Model.ProductId">
                <!-- Size Selection and Quantity Selector -->
                <div class="size-quantity-container">
                    <!-- Size Selection -->
                    <div class="size-selection">
                        <label class="size-label">Size Cổ Tay (cm)</label>
                        <select class="size-select">
                            <option>@Model.SizeOption</option>
                        </select>
                    </div>

                    <!-- Quantity Selector -->
                    <div class="quantity-selector">
                        <label class="quantity-label">Số lượng:</label>
                        <div class="quantity-control">
                            <button class="quantity-btn minus-btn" type="button">-</button>
                            <input type="text" class="quantity-input" value="1" name="quantity">
                            <button class="quantity-btn plus-btn" type="button">+</button>
                        </div>
                    </div>
                </div>

                <!-- Add to Cart Button -->
                <button class="add-to-cart-btn">Thêm vào giỏ hàng</button>
            </form>
            
        </div>
    </div>

    <!-- Tabs Section -->
    <div class="tabs-section">
        <div class="tabs">
            <div class="tab active" onclick="switchTab(0)">Thông tin giao hàng</div>
            <div class="tab" onclick="switchTab(1)">Chi tiết sản phẩm</div>
        </div>

        <!-- Tab Content -->
        <div class="tab-content active" id="tab-0">
            <h3>Thông tin vận chuyển và hoàn trả</h3>
            <ul class="shipping-info">
                <li>- Nội thành: Giao từ 1 – 3 ngày; Miễn phí giao hàng trong bán kính 10km.</li>
                <li>- Tỉnh khác: Giao từ 5 – 7 ngày; 30.000 VND / đơn.</li>
                <li>- Nếu khách hàng có yêu cầu về Giấy Kiểm Định Đá, đơn hàng sẽ cộng thêm 20 ngày để hoàn thành.</li>
            </ul>
        </div>

        <div class="tab-content" id="tab-1">
            <!-- Chi tiết sản phẩm sẽ được thêm vào đây -->
        </div>
    </div>
</div>

<!-- Script for Tab Switching -->
<script>
    function switchTab(index) {
        document.querySelectorAll('.tab').forEach((tab, i) => {
            tab.classList.toggle('active', i === index);
        });
        document.querySelectorAll('.tab-content').forEach((content, i) => {
            content.classList.toggle('active', i === index);
        });
    }
</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const minusBtn = document.querySelector(".minus-btn");
        const plusBtn = document.querySelector(".plus-btn");
        const quantityInput = document.querySelector(".quantity-input");

        // Xử lý khi nhấn nút "-"
        minusBtn.addEventListener("click", function () {
            let quantity = parseInt(quantityInput.value);
            if (quantity > 1) {
                quantityInput.value = quantity - 1;
            }
        });

        // Xử lý khi nhấn nút "+"
        plusBtn.addEventListener("click", function () {
            let quantity = parseInt(quantityInput.value);
            quantityInput.value = quantity + 1;
        });

        // Chặn nhập ký tự không hợp lệ vào ô số lượng
        quantityInput.addEventListener("input", function () {
            this.value = this.value.replace(/[^0-9]/g, ""); // Chỉ cho phép số
            if (this.value === "" || parseInt(this.value) < 1) {
                this.value = 1; // Nếu giá trị trống hoặc nhỏ hơn 1 thì đặt về 1
            }
        });
    });
</script>


<!-- CSS Styles -->
<style>
    .detailProduct {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        font-family: 'Arial', sans-serif;
    }

    .product-detail {
        display: flex;
        gap: 40px;
        margin-bottom: 40px;
    }

    .product-image img {
        max-width: 400px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .product-info {
        flex: 1;
    }

    .product-title {
        font-size: 2rem;
        color: #333;
        margin-bottom: 10px;
    }

    .product-meta {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 5px;
    }

    .meta-value {
        font-weight: bold;
        color: #000;
    }

    .in-stock {
        color: #28a745;
    }

    .out-of-stock {
        color: #dc3545;
    }

    .product-description {
        font-size: 1rem;
        color: #444;
        margin: 20px 0;
    }

    .product-price {
        font-size: 1.5rem;
        color: #e74c3c;
        font-weight: bold;
        margin: 20px 0;
    }

    .size-quantity-container {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
    }

    .size-selection,
    .quantity-selector {
        flex: 1;
    }

    .size-label,
    .quantity-label {
        display: block;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .size-select {
        width: 80px;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 1rem;
    }

    .quantity-control {
        display: flex;
        align-items: center;
    }

    .quantity-btn {
        background-color: #f8f9fa;
        border: 1px solid #ddd;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 1rem;
    }

        .quantity-btn:hover {
            background-color: #e9ecef;
        }

    .quantity-input {
        width: 50px;
        text-align: center;
        border: 1px solid #ddd;
        padding: 5px;
        margin: 0 5px;
    }

    .add-to-cart-btn {
        background-color: #e74c3c;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        font-size: 1rem;
        cursor: pointer;
        width: 100%;
    }

        .add-to-cart-btn:hover {
            background-color: #c0392b;
        }

    .tabs {
        margin-top: 20px;
        display: flex;
        border-bottom: 2px solid #8b4513;
    }

    .tab {
        padding: 10px 20px;
        cursor: pointer;
        font-weight: bold;
        color: #8b4513;
        border-radius: 5px 5px 0 0;
    }

        .tab.active {
            background: #8b4513;
            color: white;
        }

    .tab-content {
        display: none;
        padding: 20px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 0 0 8px 8px;
    }

        .tab-content.active {
            display: block;
        }

    .shipping-info {
        list-style: none;
        padding: 0;
    }

        .shipping-info li {
            margin-bottom: 10px;
            color: #555;
        }
</style>
